<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.tangdi.production.tdauth.dao.OrgDao">	<resultMap type="OrgInf" id="orgMap">		<id property="orgId" column="ORG_ID" />		<result property="orgName" column="ORG_NAME" />		<result property="orgParId" column="ORG_PAR_ID" />		<result property="orgLevel" column="ORG_LEVEL" />		<result property="orgStatus" column="ORG_STATUS" />		<result property="logo" column="LOGO" />		<result property="phone" column="PHONE" />		<result property="orgDesc" column="ORG_DESC" />	</resultMap>	<select id="checkOrgByOrgId" parameterType="java.lang.String" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		where ORG_ID=#{orgId}	</select>	<select id="addCheckOrgName" parameterType="java.lang.String" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		where ORG_NAME=#{orgName}	</select>	<select id="updateCheckOrgName" parameterType="java.lang.String" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		where ORG_ID!=#{orgId} and ORG_NAME=#{orgName}	</select>	<select id="countOrgStateByOrgId" parameterType="java.util.Map" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		where ORG_ID=#{orgId} and orgStatus='0'	</select>	<insert id="insertEntity" parameterType="OrgInf">		insert into AUTH_ORG_INF (ORG_ID,ORG_NAME,ORG_PAR_ID,ORG_LEVEL,ORG_STATUS,ORG_DESC,LOGO,PHONE)		values (#{orgId,jdbcType=VARCHAR},#{orgName,jdbcType=VARCHAR},#{orgParId,jdbcType=VARCHAR},#{orgLevel,jdbcType=VARCHAR},#{orgStatus,jdbcType=VARCHAR},#{orgDesc,jdbcType=VARCHAR},#{logo,jdbcType=VARCHAR},#{phone,jdbcType=VARCHAR})	</insert>	<insert id="insertList" parameterType="java.util.List">		insert into AUTH_ORG_INF (ORG_ID,ORG_NAME,ORG_PAR_ID,ORG_LEVEL,ORG_STATUS,LOGO,PHONE)		<foreach collection="list" item="item" separator="union all">			select #{item.orgId},#{item.orgName}, #{item.orgParId},#{item.orgLevel},#{item.orgStatus},#{logo},#{phone} from dual		</foreach>	</insert>	<update id="deleteEntityList" parameterType="java.util.Map">		UPDATE AUTH_ORG_INF		SET ORG_STATUS = #{orgStatus}		WHERE ORG_ID IN		<foreach collection="list" index="index" item="item" open="(" separator="," close=")">			#{item}		</foreach>	</update>	<update id="updateEntity" parameterType="OrgInf">		update AUTH_ORG_INF		<set>			<if test="orgName != null">				ORG_NAME = #{orgName},			</if>			<if test="orgParId != null">				ORG_PAR_ID = #{orgParId},			</if>			<if test="orgLevel != null">				ORG_LEVEL = #{orgLevel},			</if>			<if test="orgStatus != null">				ORG_STATUS = #{orgStatus},			</if>			<if test="orgDesc != null">				ORG_DESC = #{orgDesc},			</if>			<if test="logo != null">				LOGO = #{logo},			</if>			<if test="phone != null">				PHONE = #{phone}			</if>		</set>		<where>			<if test="orgId != null">				ORG_ID = #{orgId}			</if>		</where>	</update>	<select id="selectEntity" parameterType="OrgInf" resultMap="orgMap">		SELECT *		FROM AUTH_ORG_INF		<where>			<if test="orgName != null">				ORG_NAME = #{orgName}			</if>			<if test="orgParId != null">				AND ORG_PAR_ID = #{orgParId}			</if>			<if test="orgLevel != null">				AND ORG_LEVEL = #{orgLevel}			</if>			<if test="orgStatus != null">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="orgId != null">				AND ORG_ID = #{orgId}			</if>			<if test="logo != null">				AND LOGO = #{logo}			</if>			<if test="phone != null">				AND PHONE = #{phone}			</if>		</where>	</select>	<select id="selectList" parameterType="OrgInf" resultMap="orgMap">		SELECT *		FROM AUTH_ORG_INF		<where>			<if test="orgName != null">				AND ORG_NAME = #{orgName}			</if>			<if test="orgParId != null">				AND ORG_PAR_ID = #{orgParId}			</if>			<if test="orgLevel != null">				AND ORG_LEVEL = #{orgLevel}			</if>			<if test="orgStatus != null">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="orgId != null">				AND ORG_ID = #{orgId}			</if>			<if test="logo != null">				AND LOGO = #{logo}			</if>			<if test="phone != null">				AND PHONE = #{phone}			</if>		</where>	</select>	<select id="selectListPage" parameterType="java.util.Map" resultMap="orgMap">		SELECT * FROM		(		select a.* ,ROWNUM as num from AUTH_ORG_INF a		<where>			<if test="orgInf.orgName != null">				ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgInf.orgId != null">				AND ORG_ID LIKE '%${orgId}%'			</if>			<if test="orgInf.orgParId != null">				AND ORG_PAR_ID LIKE '%${orgParId}%'			</if>			<if test="orgInf.orgDesc != null">				AND ORG_DESC LIKE '%${orgDesc}%'			</if>			<if test="orgInf.orgLevel != null">				AND ORG_LEVEL LIKE '%${orgLevel}%'			</if>			<if test="orgInf.orgStatus != null">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="logo != null">				AND LOGO = #{logo}			</if>			<if test="phone != null">				AND PHONE = #{phone}			</if>		</where>		order by ORG_ID ASC		)		WHERE NUM &lt;= #{end} AND NUM &gt;= #{start}	</select>	<select id="selectOrgListPage" parameterType="java.util.Map" resultMap="orgMap">		SELECT * FROM		(		select a.* ,ROWNUM as num from AUTH_ORG_INF a		<where>			<if test="currentOrgId !=null and currentOrgId != ''">				ORG_ID IN (SELECT ORG_ID FROM AUTH_ORG_INF				START WITH ORG_ID = #{currentOrgId}				CONNECT BY PRIOR ORG_ID = ORG_PAR_ID				)			</if>			<if test="orgName != null and orgName !='' ">				AND ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgId != null and orgId != '' ">				AND ORG_ID LIKE '%${orgId}%'			</if>			<if test="orgLevel != null and orgLevel != '' ">				AND ORG_LEVEL = #{orgLevel}			</if>			<if test="orgStatus != null and orgStatus != ''">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="logo != null and logo != ''">				AND LOGO = #{logo}			</if>			<if test="phone != null and phone != ''">				AND PHONE = #{phone}			</if>		</where>		order by ORG_ID ASC		)		WHERE NUM &lt;= #{end} AND NUM &gt;= #{start}	</select>			<select id="countOrg" parameterType="java.util.Map" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		<where>			<if test="currentOrgId !=null and currentOrgId != ''">				ORG_ID IN (SELECT ORG_ID FROM AUTH_ORG_INF				START WITH ORG_ID = #{currentOrgId}				CONNECT BY PRIOR ORG_ID = ORG_PAR_ID				)			</if>			<if test="orgName != null and orgName !='' ">				AND ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgId != null and orgId != '' ">				AND ORG_ID LIKE '%${orgId}%'			</if>			<if test="orgLevel != null and orgLevel != '' ">				AND ORG_LEVEL = #{orgLevel}			</if>			<if test="orgStatus != null and orgStatus != ''">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="logo != null and logo != ''">				AND LOGO = #{logo}			</if>			<if test="phone != null and phone != ''">				AND PHONE = #{phone}			</if>		</where>	</select>	<select id="countEntity" parameterType="OrgInf" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		<where>			<if test="orgName != null">				ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgId != null">				AND ORG_ID LIKE '%${orgId}%'			</if>			<if test="orgParId != null">				AND ORG_PAR_ID LIKE '%${orgParId}%'			</if>			<if test="orgDesc != null">				AND ORG_DESC LIKE '%${orgDesc}%'			</if>			<if test="orgLevel != null">				AND ORG_LEVEL LIKE '%${orgLevel}%'			</if>			<if test="orgStatus != null">				AND ORG_STATUS = #{orgStatus}			</if>			<if test="logo != null">				AND LOGO = #{logo}			</if>			<if test="phone != null">				AND PHONE = #{phone}			</if>		</where>	</select>	<select id="selectOrgForAll" resultMap="orgMap" parameterType="java.lang.String">		SELECT		*		FROM		AUTH_ORG_INF		START WITH ORG_ID =#{orgId}		CONNECT BY PRIOR ORG_ID = ORG_PAR_ID	</select>	<select id="selectOrgForAllByMap" resultMap="orgMap" parameterType="java.util.Map">		SELECT		*		FROM		AUTH_ORG_INF		<where>			<if test="orgName != '' and orgName != null ">				ORG_NAME = #{orgName}			</if>		</where>		START WITH ORG_ID =#{orgId}		CONNECT BY PRIOR ORG_ID = ORG_PAR_ID	</select>	<select id="countOrgForAllByMap" resultType="java.lang.Integer" parameterType="java.util.Map">		SELECT COUNT (*)		FROM		AUTH_ORG_INF		START WITH ORG_ID =#{orgId}		CONNECT BY PRIOR ORG_ID = ORG_PAR_ID	</select>	<select id="selectParentOrgByorgIdLevel" resultMap="orgMap" parameterType="java.util.Map">		SELECT		*		FROM		AUTH_ORG_INF		where org_level=#{orgLevel}		START WITH ORG_ID =#{orgId}		CONNECT BY PRIOR ORG_PAR_ID= ORG_ID	</select>		<select id="countOrgForQuerySubordinates" parameterType="OrgInf" resultType="java.lang.Integer">		SELECT count(*)		FROM AUTH_ORG_INF		<where>			<if test="orgName != null">				ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgParId != null">				AND ORG_PAR_ID  =#{orgParId}			</if>		</where>	</select>		<select id="querySubordinates" parameterType="java.util.HashMap" resultMap="orgMap">		SELECT * FROM (		SELECT PAGE_SUB.*,ROWNUM AS RN FROM (		SELECT * FROM 		AUTH_ORG_INF		<where>		<if test="orgName != null">				ORG_NAME LIKE '%${orgName}%'			</if>			<if test="orgParId != null">				AND ORG_PAR_ID  =#{orgParId}			</if>	    </where>				 ORDER BY ORG_ID		)PAGE_SUB		) WHERE RN BETWEEN #{start} AND #{end}	</select></mapper>